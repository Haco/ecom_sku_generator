(function(t){function e(){t("#ccg-generator-canvas .generator-part-group-select").each(function(){t(this).siblings(".generator-part-group-state").height(t(this).outerHeight())})}e();t(window).resize(function(){e()})})(jQuery);(function(t){var e=t("#ccg-generator-canvas #generator-summary-table");t("#ccg-generator-canvas .generator-result-review-config").on("click",function(r){r.preventDefault();t(this).stop().toggleClass("active");e.stop().slideToggle("slow").toggleClass("active");if(e.hasClass("active")){t("html, body").stop().animate({scrollTop:e.offset().top},"slow")}})})(jQuery);function addAjaxLoader(t){$("#"+t).addClass("ajaxloader")}function removeAjaxLoader(t){$("#"+t).removeClass("ajaxloader")}function ccgUpdatePart(){$(".generator-select-part-group-part-selector").on("click",function(t){t.preventDefault();if($(this).hasClass("disabled")){$(this).blur();return void 0}var e=$(this).attr("data-part"),r=$(this).attr("data-part-state");ccgUpdatePartExec(e,r)})}function ccgUpdatePartExec(t,e){addAjaxLoader("ccg-generator-ajax-loader");genericAjaxRequest(t3pid,t3lang,1444800649,"updatePart",{part:t,unset:e,cObj:t3cobj},function(t){onSuccessFunction(t)})}function ccgIndex(t){$(t).on("click",function(t){t.preventDefault();if($(this).hasClass("generator-part-group-state-0")&&$(".generator-part-group-state-0").first().attr("id")!==$(this).attr("id")||$(this).hasClass("generator-locked-part-group")||$(this).hasClass("current")){$(this).blur();return false}addAjaxLoader("ccg-generator-ajax-loader");genericAjaxRequest(t3pid,t3lang,1444800649,"index",{partGroup:$(this).attr("data-part-group"),cObj:t3cobj},function(t){onSuccessFunction(t)})})}function getPartInformation(t){genericAjaxRequest(t3pid,t3lang,1444800649,"showHint",{part:t,cObj:t3cobj},function(t){swal({title:null,text:t,html:true,confirmButtonText:"OK"})});return false}function genericAjaxRequest(t,e,r,a,o,n){$.ajax({async:"true",url:"index.php",type:"POST",dataType:"json",data:{eID:"EcomSkuGenerator",id:parseInt(t),L:parseInt(e),type:parseInt(r),request:{controllerName:"AjaxRequest",actionName:a,arguments:o}},success:n,error:function(t,e,r){console.log("Request failed with "+e+": "+r+"!")}})}function onSuccessFunction(t){var e=$("#generator-reset-configuration-button"),r=$("#generator-next-button"),a=$("#generator-config-header-config-price");removeAjaxLoader("ccg-generator-ajax-loader");updateProgressIndicator(t.progress);e.toggle(!t.showResultingConfiguration&&t.progress>0);$("#generator-part-group-select-index").html(t.selectPartGroupsHTML);$("#generator-select-parts-ajax-update").html(t.selectPartsHTML);$(".js-eskuc-show-configuration-price").html(t.configurationPrice);if(a){a.html(t.configurationPrice)}if(t.showResultingConfiguration){$("#generator-result-canvas").show();$("#generator-part-group-select-part-index").hide();alterPartGroupInformation("hide");$("#generator-show-result-button").hide();r.hide();r.attr("data-current",0);$("#generator-result-canvas .generator-result h3.generator-result-label").first().html(t.title);$("#generator-result-canvas .generator-result small.generator-result-code").first().html(t.configurationCode["code"]);$("#generator-summary-table").html(t.configurationCode["summaryTable"])}else{$("#generator-result-canvas").hide();$("#generator-part-group-select-part-index").show();alterPartGroupInformation(t.currentPartGroup);$("#generator-show-result-button").toggle(t.progress===1&&!t.currentPartGroup["last"]);r.attr("data-part-group",t.nextPartGroup);r.attr("data-current",t.currentPartGroup?t.currentPartGroup["uid"]:0);if(t.currentPartGroup&&$("#generator-part-group-"+t.currentPartGroup["uid"]+"-link").hasClass("generator-part-group-state-1")){r.removeClass("disabled")}else{r.addClass("disabled")}r.show();if(t.progress===0){e.addClass("disabled")}else{e.removeClass("disabled")}}assignListeners(t);$("#ccg-generator-canvas").scrollTop()}function alterPartGroupInformation(t){var e=$("#generator-part-group-info");switch(t){case"show":e.show();break;case"hide":e.hide();break;default:if(t instanceof Object){var r=t.dependentNotesFluidParsedMessages!==undefined?t.dependentNotesFluidParsedMessages:"";e.html("<h2>"+t.title+"</h2><p>"+t.prompt+"</p><p>"+r+"</p>").show()}}}function updateProgressIndicator(t){$("#generator-progress-value").animate({value:t});$(".generator-progress-value-print").each(function(e,r){$({countNum:$(r).text()}).animate({countNum:Math.floor(t*100)},{duration:800,easing:"linear",step:function(){$(r).text(Math.floor(this.countNum))},complete:function(){$(r).text(this.countNum)}})})}function addInfoTrigger(){var t="#ccg-generator-canvas .generator-select-part-group-part-info";$(t).on("click",function(t){t.preventDefault();getPartInformation($(this).parents("a").first().attr("data-part"));return false})}function assignListeners(){ccgUpdatePart();addInfoTrigger();ccgIndex(".generator-part-group-select")}(function(){$("#generator-result-canvas").toggle(showResult);$("#generator-reset-configuration-button").toggle(!showResult);$("#generator-next-button").toggle(!showResult);$("#generator-part-group-select-part-index").toggle(!showResult);$("#generator-show-result-button").hide();assignListeners();ccgIndex("#generator-next-button")})(jQuery);